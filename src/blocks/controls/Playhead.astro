---
// @blocks/Playhead.astro

interface Props extends HTMLAttributes {
	tag?: keyof HTMLElementTagNameMap
	class?: string
	cta?: string
}

const {
	tag: Playhead = 'button',
	class: classes,
	cta = 'Play Reel',
	...attrs
} = Astro.props as Props

const [ld, tr] = cta.trim().split(/\s+/, 2)
---

<Playhead
	{...attrs}
	type={Playhead === 'button' ? 'button' : undefined}
	aria-label={cta}
	class:list={[
		'relative grid place-items-center',
		'select-none cursor-pointer',
		'bg-transparent p-0 border-0',
		'focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-(--accent-hairline) focus-visible:ring-offset-2 focus-visible:ring-offset-transparent',
		'group',
		classes,
	]}>
	<span
		aria-hidden='true'
		class:list={[
			'hidden lg:flex',
			'items-center justify-between',
			'size-full -mt-3',
			'text-(--interactive-muted)',
			'text-[clamp(2.5rem,5vw,4.5rem)] leading-none',
			'tracking-[-0.03em]',
			'group-hover:text-(--interactive-active)',
			'transition-colors duration-700 ease-linear',
		]}>
		<span
			class:list={[
				'-translate-x-(--space)',
				'transition-transform',
				'duration-500',
				'ease-[cubic-bezier(.15,0,.12,1)]',
				'group-hover:-translate-x-[calc(var(--space)*0.65)]',
				'will-change-transform',
			]}>
			{ld}
		</span>

		<span
			class:list={[
				'translate-x-(--space)',
				'transition-transform',
				'duration-500',
				'ease-[cubic-bezier(.15,0,.12,1)]',
				'group-hover:translate-x-[calc(var(--space)*0.65)]',
				'will-change-transform',
			]}>
			{tr}
		</span>
	</span>
</Playhead>
